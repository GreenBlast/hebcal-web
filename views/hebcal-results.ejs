<%- await include('partials/header.ejs', {
  title: shortTitle + ' ' + locationName + ' - Hebcal',
}) -%>
<link rel="stylesheet" type="text/css" href="/i/typeahead1.css">
<link rel="dns-prefetch" href="https://download.hebcal.com/">
<% if (gy <= 1752 || gy > new Date().getFullYear() + 100) { %><meta name="robots" content="noindex, nofollow"><% } %>
<link rel="canonical" href="<%= url.canonical %>">
<style>
div.cal { margin-bottom: 18px }
div.pbba { page-break-before: always }
@media print{
  @page {size: landscape}
  div.pbba { page-break-before: always }
}
.fc-emulated-table {
  table-layout: fixed;
}
.fc-emulated-table tr th, .fc-emulated-table tr td {
  padding: 4px;
}
.fc-emulated-table tr th {
  text-align: center;
}
.fc-emulated-table tr td {
  height: 90px;
}
.label-lightgrey {
  background-color: #e7e7e7;
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  border: 1px solid #cfcfcf;
  border-radius: 2px;
}
.table-event.yomtov {
  background:#ff9;
}
</style>
<%- await include('partials/style-fullcalendar.ejs') -%>
</head>
<body>
<%- await include('partials/navbar.ejs') -%>
<div class="container-fluid">
<div class="row">
<div class="col-sm-8 mb-2">
<% if (gy < 0 && q.yt === 'H') { -%>
<div class="alert alert-warning alert-dismissible" role="alert">
<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
<strong>Warning!</strong>
You are viewing <strong>Hebrew year <%=hebrewYear%></strong>,
which is equivalent to Gregorian year <%=-gy%> B.C.E. (Before the Common Era).
Hebrew date conversion before year 1 C.E. may be inaccurate.<br>
Perhaps you intended to view the calendar for
<a href="<%-sameUrlGregYear%>">Gregorian year <%=hebrewYear%></a>?
</div><!-- .alert -->
<% } else if (gy < 1752) { -%>
<%- await include('partials/warning-1752.ejs') -%>
<% } else if (gy >= 3762 && q.yt === 'G') { -%>
<div class="alert alert-warning alert-dismissible" role="alert">
<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
<strong>Note!</strong>
You are viewing <strong>Gregorian</strong> year <%=gy%>, which
is <%=futureYears%> years <em>in the future</em>.<br>
Did you really intend this? Perhaps you wish to view the calendar
for <a href="<%-sameUrlHebYear%>">Hebrew year <%=gy%></a>?<br>
If you really intended to use Gregorian year <%=gy%>, please
continue. Hebcal.com results this far in the future should be
accurate.
</div><!-- .alert -->
<% } -%>
<%- await include('partials/location-warnings.ejs') -%>
<h2><%= shortTitle %>
<% if (q.c === 'on') { %><br><% } %><span class="text-muted h4"><%= locationName -%>
<% if (options.il && typeof location === 'object' && location.getCountryCode() !== 'IL') { %> &middot; <small class="text-nowrap">Israel ðŸ‡®ðŸ‡± holiday schedule</small><% } -%>
</span></h2>
<div class="d-print-none">
  <div class="btn-group me-1" role="group">
    <input type="radio" class="btn-check" name="view" id="toggle-month" autocomplete="off" checked>
    <label class="btn btn-secondary btn-sm mb-1" for="toggle-month">
      <svg class="icon align-top"><use xlink:href="<%=spriteHref%>#bi-calendar3"></use></svg> Month
   </label>
    <input type="radio" class="btn-check" name="view" id="toggle-list" autocomplete="off">
    <label class="btn btn-secondary btn-sm mb-1" for="toggle-list">
      <svg class="icon align-top"><use xlink:href="<%=spriteHref%>#bi-list-ul"></use></svg> List
   </label>
  </div><!-- .btn-group -->
<% if (gy >= 1900) { -%>
<div class="btn-group me-1 mb-1" role="group"><a href="#hcdl-modal" role="button" class="btn btn-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#hcdl-modal"><svg class="icon align-top"><use xlink:href="<%=spriteHref%>#bi-cloud-download"></use></svg> Download</a></div>
<% } %>
<% if (q.c === 'on' && gy >= 1900) { %>
<div class="btn-group me-1" role="group">
  <div class="btn-group mb-1" role="group"><a class="btn btn-secondary btn-sm download" id="print-pdf" href="<%= url.pdf %>"><svg class="icon align-top"><use xlink:href="<%=spriteHref%>#bi-printer-fill"></use></svg> Print</a></div>
  <button type="button" class="btn btn-secondary btn-sm dropdown-toggle dropdown-toggle-split mb-1" data-bs-toggle="dropdown" aria-expanded="false">
   <span class="visually-hidden">Toggle Dropdown</span>
  </button>
  <ul class="dropdown-menu">
  <li><a class="dropdown-item download" id="pdf" href="<%= url.pdf %>">Monthly calendar</a></li>
  <li><a class="dropdown-item" href="<%= url.fridge %>">Candle-lighting times only</a></li>
  </ul>
</div>
<div class="btn-group me-1 mb-1" role="group"><a href="#email-modal" role="button" class="btn btn-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#email-modal"><svg class="icon align-top"><use xlink:href="<%=spriteHref%>#bi-envelope-fill"></use></svg> Email</a></div>
<% } else { %>
<div class="btn-group mb-1" role="group"><a class="btn btn-secondary btn-sm download" id="print-pdf" href="<%= url.pdf %>"><svg class="icon align-top"><use xlink:href="<%=spriteHref%>#bi-printer-fill"></use></svg> Print</a></div>
<% } %>
<a class="btn btn-secondary btn-sm mb-1" href="<%= url.settings %>" data-bs-toggle="offcanvas" data-bs-target="#offcanvas-settings" aria-controls="offcanvas-settings" title="Change calendar options">
  <svg class="icon align-top"><use xlink:href="<%=spriteHref%>#bi-gear-fill"></use></svg>
  Settings</a>
</div><!-- .btn-toolbar -->
</div><!-- .col-sm-8 -->
<div class="col-sm-4 d-print-none">
<div class="d-flex justify-content-center d-print-none">
<h6 class="text-muted mb-2">Advertisement</h6>
</div><!-- .d-flex -->
<div class="d-flex justify-content-center d-print-none mb-2">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7687563417622459"
crossorigin="anonymous"></script>
<!-- banner-320x100 -->
<ins class="adsbygoogle"
style="display:inline-block;width:320px;height:100px"
data-ad-client="ca-pub-7687563417622459"
data-ad-slot="1867606375"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div><!-- .d-flex -->
</div><!-- .col-sm-4 -->
</div><!-- .row -->
<nav class="d-print-none">
<ul class="pagination pagination-sm month-nav"></ul>
</nav>
<div id="hebcal-results">
</div><!-- #hebcal-results -->
<nav class="d-print-none">
<ul class="pagination pagination-sm month-nav"></ul>
</nav>
<script>
window['hebcal']=window['hebcal']||{};
window['hebcal'].lang='<%= q.lg || 's' %>';
window['hebcal'].localeConfig=<%- JSON.stringify(localeConfig) %>;
window['hebcal'].events=<%- JSON.stringify(items) %>;
window['hebcal'].cconfig=<%- cconfig %>;
</script>
<div class="offcanvas offcanvas-start" style="width:auto" tabindex="-1" id="offcanvas-settings" aria-labelledby="settings-label">
<div class="offcanvas-header">
<h5 class="offcanvas-title" id="settings-label">Calendar Settings</h5>
<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
</div>
<div class="offcanvas-body">
<%- await include('partials/hebcal-form.ejs') -%>
</div>
</div>
<% if (gy >= 1900) { -%>
<%- await include('partials/download-modal.ejs') -%>
<% if (q.c === 'on') { %><%- await include('partials/email-candles-modal.ejs') _%><% } %>
<% } -%>
<script>
document.addEventListener('DOMContentLoaded', function() {
  var d = document;
  var months = hebcalClient.splitByMonth(window['hebcal'].events);
  var parentDiv = document.getElementById("hebcal-results");
  var first = true;
  var currentMonth = new Date().toISOString().substring(0, 7);
  months.forEach(function(month) {
    var wrapperEl = d.createElement("div");
    wrapperEl.id = "cal-" + month.month;
    if (currentMonth === month.month) {
      var el = d.createElement("div");
      el.id = "cal-current";
      wrapperEl.appendChild(el);
    }
    var calEl = d.createElement("div");
    calEl.className = first ? "cal" : "cal pbba";
    if (!first) {
      calEl.style.pageBreakBefore = 'always';
    }
    var html = hebcalClient.makeMonthHtml(month);
    calEl.innerHTML = html;
    wrapperEl.appendChild(calEl);
    var agendaEl = d.createElement("div");
    agendaEl.className = "agenda";
    wrapperEl.appendChild(agendaEl);
    parentDiv.appendChild(wrapperEl);
    first = false;
  });
  var localeData = window['hebcal'].localeConfig;
  function paginationListItem(props) {
    var listEl = d.createElement("li");
    listEl.className = "page-item";
    var anchor = d.createElement("a");
    anchor.className = "page-link";
    anchor.href = props.href;
    if (props.title) anchor.title = props.title;
    if (props.rel) anchor.rel = props.rel;
    anchor.innerHTML = props.innerHTML;
    listEl.appendChild(anchor);
    return listEl;
  }
  d.querySelectorAll('ul.month-nav').forEach(function(parentEl) {
    var prevEl = paginationListItem({
      rel: "prev nofollow",
      href: "<%- url.prev %>",
      innerHTML: '&laquo;&nbsp;<%= prevTitle %>',
    });
    parentEl.appendChild(prevEl);
    months.forEach(function(month) {
      var yearMonth = month.month;
      var yearStr = yearMonth.substring(0, yearMonth.length - 3);
      var monthStr = yearMonth.substring(yearMonth.length - 2);
      var mm = parseInt(monthStr, 10);
      var listEl = paginationListItem({
        href: '#cal-' + yearMonth,
        title: localeData.months[mm - 1] + ' ' + yearStr,
        innerHTML: localeData.monthsShort[mm - 1],
      });
      listEl.className = "page-item d-none d-sm-inline";
      parentEl.appendChild(listEl);
    });
    var nextEl = paginationListItem({
      className: "page-link",
      rel: "next nofollow",
      href: "<%- url.next %>",
      innerHTML: '<%= nextTitle %>&nbsp;&raquo;',
    });
    parentEl.appendChild(nextEl);
  });
  var toggleList = document.getElementById('toggle-list');
  var show = function (el) { el.style.display = 'block' };
  var hide = function (el) { el.style.display = 'none' };
  document.getElementById('toggle-month').onchange = function() {
    d.querySelectorAll('div.agenda').forEach(hide);
    d.querySelectorAll('div.cal').forEach(show);
  };
  toggleList.onchange = function() {
    d.querySelectorAll('div.cal').forEach(hide);
    hebcalClient.renderMonthTables();
    d.querySelectorAll('div.agenda').forEach(show);
  };
  if (window.outerWidth < 768) {
    var event = new MouseEvent('click', {
      view: window,
      bubbles: true,
      cancelable: true
    });
    toggleList.dispatchEvent(event);
  }
});
</script>
<%- await include('partials/emoji-switch-script.ejs') -%>
<%- await include('partials/print-iframe.ejs') -%>
<%- await include('partials/footer.ejs', {
  footerScripts: {clipboard: true, tooltip: true, typeahead: true},
  xtra_html: await include('partials/script-hebcal-form.ejs'),
}) _%>
