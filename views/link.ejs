<%- await include('partials/header.ejs') -%>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.2/build/styles/default.min.css">
<link rel="stylesheet" type="text/css" href="/i/typeahead1.css">
<meta name="robots" content="noindex, nofollow">
<style type="text/css">
ul.hebcal-results { list-style-type: none }
#change-city {
  margin-top: 30px;
  margin-bottom: 80px;
}
</style>
</head>
<body>
<%- await include('partials/navbar.ejs') -%>
<div class="container">
<div id="content">
<div class="row">
<div class="col-sm-12">
<h2>Add Shabbat Times to your Website</h2>
<p class="lead">Use these HTML tags to add weekly Shabbat candle-lighting
times and Torah portion directly on your synagogue's website.</p>
<p>Browse the <a href="/home/category/developers">Hebcal web developer
APIs</a> to display other information on your site (e.g. today's
Hebrew date, a full Jewish Calendar, RSS feeds).</p>
<p>The following tags are for <b><%= locationName %></b>
(<a href="#change">change city</a>).</p>
<p><b>Instructions:</b> Copy everything from this box and paste it into
the appropriate place in your HTML:</p>
<pre><code class="html">&lt;div id="hebcal-shabbat"&gt;&lt;/div&gt;
&lt;script defer&gt;
fetch('https://www.hebcal.com/shabbat?cfg=i2&amp;<%= geoUrlArgs %>&amp;tgt=_top')
  .then(response =&gt; response.text())
  .then(data =&gt; document.getElementById('hebcal-shabbat').innerHTML = data);
&lt;/script&gt;
</code></pre>

<p>The result will look like this (<a href="#fonts">customize fonts</a>):</p>

<div class="box">
<div id="hebcal-shabbat"></div>
<script defer>
fetch('/shabbat?cfg=i2&<%- geoUrlArgs %>')
  .then(response => response.text())
  .then(data => document.getElementById('hebcal-shabbat').innerHTML = data);
</script>
</div><!-- .box -->

<div id="change-city">
<h3 id="change">Change City</h3>
<p>Enter a new city to get revised HTML tags for your synagogue's web page.</p>

<form action="<%= rpath %>" autocomplete="off" method="get">
<div class="form-floating">
<select name="lg" class="form-select mb-2" id="lg">
<% for (const [langName, desc] of Object.entries(langNames)) { -%>
<option <%- (q.lg === langName) ? 'selected' : '' -%> value="<%=langName%>"><%=desc[1] ? desc[1] + ' - ' : ''%><%=desc[0]%></option>
<% } -%>
</select>
<label for="lg">Event titles</label>
</div>
<input type="hidden" name="geo" id="geo" value="<%= q.geo || 'geonameid' %>">
<input type="hidden" name="zip" id="zip" value="<%= q.zip || '' %>">
<input type="hidden" name="geonameid" id="geonameid" value="<%= q.geonameid %>">
<%- await include('partials/city-and-havdalah.ejs') -%>
<button type="submit" class="btn btn-primary">Get new HTML tags</button>
</form>
</div><!-- #change-city -->

<h3 id="fonts">Customize Fonts</h3>

<p>To change the fonts to match the rest of your site, you can add a
<code>&lt;style type="text/css"&gt;</code> stylesheet like this to the
<code>&lt;head&gt; ... &lt;/head&gt;</code> section at the top of your web
page:</p>

<pre><code class="html">&lt;style type="text/css"&gt;
.hebcal-container {
 font-family: "Gill Sans MT","Gill Sans",GillSans,Arial,Helvetica,sans-serif;
 font-size: small;
}
.hebcal-container h3 {
 font-family: Georgia,Palatino,"Times New Roman",Times,serif;
}
ul.hebcal-results { list-style-type:none }
ul.hebcal-results li {
  margin-bottom: 11px;
  font-size: 21px;
  font-weight: 200;
  line-height: normal;
}
.hebcal-results .candles { color: red; font-size: large }
.hebcal-results .havdalah { color: green }
.hebcal-results .parashat { color: black; background: #ff9 }
.hebcal-results .holiday { display: none }
&lt;/style&gt;</code></pre>

<p>Those fonts and colors are just an example.  <a
href="https://www.w3.org/Style/CSS/">Cascading Style Sheets (CSS)</a> are
very powerful and flexible.</p>
</div><!-- .col-sm-12 -->
</div><!-- .row -->
</div><!-- #content -->
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.0/build/highlight.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('pre code').forEach(function(el) {
    hljs.highlightElement(el);
  });
});
</script>
<%- await include('partials/footer.ejs', {footerScripts: {tooltip: true, typeahead: true}}) -%>
