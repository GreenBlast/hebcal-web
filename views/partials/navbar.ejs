<%
const MENU_ITEMS = [
    ['/holidays/', 'Holidays', 'Jewish Holidays'],
    ['/converter/', 'Date Converter', 'Hebrew Da]e Converter'],
    ['/shabbat/', 'Shabbat', 'Shabbat Times'],
    ['/sedrot/', 'Torah', 'Torah Readings'],
    ['/home/about', 'About', 'About'],
    ['/home/help', 'Help', 'Help'],
];

// eslint-disable-next-line require-jsdoc
function menuItem(path, title, tooltip, selected) {
  const active = (path != '/' && path == selected) ? ' active' : '';
  return `<li class="nav-item${active}"><a class="nav-link" href="${path}" title="${tooltip}">${title}</a>`;
}

// eslint-disable-next-line require-jsdoc
function htmlMenu(selected) {
  let str = '<ul class="navbar-nav mr-auto">';
  for (const item of MENU_ITEMS) {
    str += menuItem(item[0], item[1], item[2], selected);
    str += '</li>';
  }
  str += '</ul>';
  return str;
}
const logoImage = '<img src="https://www.hebcal.com/i/hebcal-logo-1.2.svg" width="77" height="21" alt="Hebcal">';
const logoIdClassTitle = 'class="navbar-brand" id="logo" title="Hebcal Jewish Calendar"';
if (rpath === '/') {
    logoHtml = '<span ' + logoIdClassTitle + '>' + logoImage + '</span>';
} else {
    logoHtml = '<a href="/" ' + logoIdClassTitle + '>' + logoImage + '</a>';
}
menuHtml = htmlMenu(rpath);
%>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <%- logoHtml -%>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <%- menuHtml %>
    <form class="form-inline my-2 my-lg-0" role="search" method="get" id="searchform" action="/home/">
        <input name="s" id="sitesearch" type="text" class="form-control mr-sm-2" placeholder="Search" aria-label="Search">
    </form>
  </div><!--/.navbar-collapse -->
</nav>
